!function(m){sitemartThemeModule.menuOffsets=function(){m(".dj-header-main-nav ul.menu > li, .dj-header-secondary-nav ul.menu > li, .widget_nav_mega_menu ul.menu:not(.dj-nav-vertical) > li, .dj-header-main-nav .dj-dropdown.dj-design-aside ul > li").each(function(){var e=m(this);function d(){e.hasClass("dj-offsets-calculated")||e.parents(".dj-design-aside").length||(e.find(" > .menu-item-has-children").each(function(){var e,d,s,o,n,a,t,i,w,l;e=m(this),i=e.find(" > .dj-dropdown-menu"),w=i.outerWidth(),l=i.offset(),i.attr("style",""),w&&l&&(i.hasClass("dj-design-full-width")||i.hasClass("dj-design-aside")?(s=sitemartThemeModule.$window.width(),sitemartThemeModule.$body.hasClass("rtl")?s<=(o=s-l.left-w)+w&&i.css({right:-(d=o+w-s)}):l.left+w>=s&&(d=l.left+w-s,i.css({left:-d}))):(i.hasClass("dj-design-sized")||i.hasClass("dj-design-full-height"))&&(s=sitemart_settings.site_width,o=(s=sitemartThemeModule.$window.width()<s||!s||e.parents(".whb-header").hasClass("whb-full-width")?sitemartThemeModule.$window.width():s)-l.left-w,e=15,n=(sitemartThemeModule.$window.width()-s)/2,t=m(".dj-sticky-nav"),sitemartThemeModule.$body.hasClass("dj-sticky-nav-enabled")&&t.length&&(e-=t.width()/2),sitemartThemeModule.$body.hasClass("rtl")?s<=(a=n+o)+w&&i.css({right:-(d=a+w-s)-e}):s<=(a=l.left-n)+w&&i.css({left:-(d=a+w-s)-e})))}),sitemartThemeModule.$document.trigger("resize.vcRowBehaviour"),e.addClass("dj-offsets-calculated"))}(e=e.hasClass("menu-item")?m(this).parent():e).on("mouseenter mousemove",function(){d()}),sitemartThemeModule.$window.on("djHeaderBuilderStickyChanged",d),"yes"===sitemart_settings.clear_menu_offsets_on_resize&&setTimeout(function(){sitemartThemeModule.$window.on("resize",sitemartThemeModule.debounce(function(){e.removeClass("dj-offsets-calculated"),e.find(" > .menu-item-has-children > .dj-dropdown-menu").attr("style","")},300))},2e3)})},sitemartThemeModule.menuDropdownAside=function(){m(".dj-nav .dj-design-aside, .dj-header-cats.dj-open-dropdown .dj-nav").each(function(){var e,d=m(this).find(".menu-item");d.length&&((e=d.first()).hasClass("menu-item-has-children")||e.parents(".dj-sub-menu-wrapp").addClass("dj-empty-item"),e.addClass("dj-opened").find(".dj-dropdown").addClass("dj-opened"),d.on("mouseover",function(){var e=m(this),d=e.parents(".dj-sub-menu-wrapp");e.hasClass("dj-opened")||(e.hasClass("item-level-1")&&(e.hasClass("menu-item-has-children")?d.removeClass("dj-empty-item"):d.addClass("dj-empty-item")),e.siblings().removeClass("dj-opened").find(".dj-dropdown").removeClass("dj-opened"),e.addClass("dj-opened").find(".dj-dropdown").addClass("dj-opened"))}))})},window.addEventListener("djEventStarted",function(){setTimeout(function(){sitemartThemeModule.menuDropdownAside(),sitemartThemeModule.menuOffsets()},100)})}(jQuery);