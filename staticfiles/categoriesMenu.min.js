!function(s){sitemartThemeModule.$document.on("djShopPageInit",function(){sitemartThemeModule.categoriesMenuBtns(),sitemartThemeModule.categoriesMenu()}),sitemartThemeModule.categoriesMenu=function(){var e=s(".dj-nav-product-cat"),t=(1024<sitemartThemeModule.$window.width()&&e.stop().attr("style",""),200);e.each(function(){function o(){a.removeClass("dj-active"),d.removeClass("categories-opened").stop().slideUp(t)}var d=s(this),e=d.parents(".dj-nav-accordion-mb-on"),a=e.find("dj-btn-show-cat"),n=e.hasClass("dj-nav-accordion-mb-on");e.find(".dj-nav-opener").off("click").on("click",function(e){var o=s(this);e.preventDefault(),o.closest(".has-sub").find("> ul").hasClass("child-open")?o.removeClass("dj-active").closest(".has-sub").find("> ul").slideUp(t).removeClass("child-open"):o.addClass("dj-active").closest(".has-sub").find("> ul").slideDown(t).addClass("child-open"),sitemartThemeModule.$document.trigger("dfsd-images-loaded")}),e.find(".dj-btn-show-cat > a").off("click").on("click",function(e){e.preventDefault(),n&&(d.hasClass("categories-opened")?o():(a.addClass("dj-active"),d.addClass("categories-opened").stop().slideDown(t),sitemartThemeModule.$document.trigger("dfsd-images-loaded"),sitemartThemeModule.$document.trigger("dfsd-images-loaded")))}),e.find(".dj-nav-product-cat a").off("click").on("click",function(e){s(e.target).hasClass("dj-nav-opener")||(o(),d.stop().attr("style",""))})})},sitemartThemeModule.categoriesMenuBtns=function(){s(".dj-nav-product-cat.dj-mobile-accordion").each(function(){var e;1024<sitemartThemeModule.windowWidth||((e=s(this)).find("li > ul").parent().find(".dj-nav-opener").remove(),e.find("li > ul").parent().addClass("has-sub").append('<span class="dj-nav-opener"></span>'))})},sitemartThemeModule.$window.on("resize",sitemartThemeModule.debounce(function(){sitemartThemeModule.categoriesMenuBtns(),sitemartThemeModule.categoriesMenu()},300)),s(document).ready(function(){sitemartThemeModule.categoriesMenuBtns(),sitemartThemeModule.categoriesMenu()}),window.addEventListener("popstate",function(){sitemartThemeModule.categoriesMenuBtns(),sitemartThemeModule.categoriesMenu()})}(jQuery);