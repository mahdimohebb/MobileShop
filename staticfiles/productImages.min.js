!function(n){sitemartThemeModule.productImages=function(){var e=n(".site_front-product-gallery"),t=n(".site_front-product-gallery__wrapper"),a=".dj-show-product-gallery-wrap > a",o=(e.hasClass("image-action-popup")&&(a+=", .site_front-product-gallery__image > a"),e.on("click",".site_front-product-gallery__image > a",function(e){e.preventDefault()}),e.on("click",a,function(e){e.preventDefault();var t=n(this),t=(t.attr("href"),r());sitemartThemeModule.callPhotoSwipe(o(e),t)}),function(e){var t,a=0,e=n(e.currentTarget);return e.parents(".dj-carousel-item").length?a=e.parents(".dj-carousel-item").index():e.hasClass("sitemart-show-product-gallery")&&((t=e.parents(".site_front-product-gallery")).hasClass("thumbs-position-left")||t.hasClass("thumbs-position-bottom")||t.hasClass("thumbs-position-without"))&&(a=e.parents(".dj-gallery-images").find(".dj-carousel-item.dj-active").index()),a}),r=function(){var d=[];return t.find("figure a img").each(function(){var e,t=n(this),a=t.attr("data-large_image"),o=t.attr("data-large_image_width"),r=t.attr("data-large_image_height"),i=t.data("caption");t.parents(".dj-carousel-item.dj-with-video").length?(-1!==(e=t.parents(".dj-with-video")[0].outerHTML).indexOf("dj-inited")&&(e=e.replace("dj-inited","dj-loaded").replace("dj-video-playing","")),d.push({html:e,mainElement:t.parents(".dj-with-video")})):d.push({src:a,w:o,h:r,title:"yes"===sitemart_settings.product_images_captions&&i})}),d}},n(document).ready(function(){sitemartThemeModule.productImages()})}(jQuery);